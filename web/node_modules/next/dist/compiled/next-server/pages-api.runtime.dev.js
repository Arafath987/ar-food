(()=>{var e={"./dist/compiled/@edge-runtime/cookies/index.js":e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){var t;const r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${r.join("; ")}`}function d(e){const t=new Map;for(const r of e.split(/; */)){if(!r)continue;const e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}const[n,o]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=o?o:"true"))}catch{}}return t}function u(e){if(!e)return;const[[t,r],...n]=d(e),{domain:o,expires:i,httponly:s,maxage:a,path:u,samesite:p,secure:l}=Object.fromEntries(n.map((([e,t])=>[e.toLowerCase(),t])));return function(e){const t={};for(const r in e)e[r]&&(t[r]=e[r]);return t}({name:t,value:decodeURIComponent(r),domain:o,...i&&{expires:new Date(i)},...s&&{httpOnly:!0},..."string"==typeof a&&{maxAge:Number(a)},path:u,...p&&{sameSite:(f=p,f=f.toLowerCase(),c.includes(f)?f:void 0)},...l&&{secure:!0}});var f}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{RequestCookies:()=>l,ResponseCookies:()=>f,parseCookie:()=>d,parseSetCookie:()=>u,splitCookiesString:()=>p,stringifyCookie:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=["strict","lax","none"];function p(e){if(!e)return[];var t,r,n,o,i,s=[],a=0;function d(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,i=!1;d();)if(","===(r=e.charAt(a))){for(n=a,a+=1,d(),o=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(i=!0,a=o,s.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!i||a>=e.length)&&s.push(e.substring(t,e.length))}return s}var l=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t){const e=d(t);for(const[t,r]of e)this._parsed.set(t,{name:t,value:r})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){const t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;const r=Array.from(this._parsed);if(!e.length)return r.map((([e,t])=>t));const n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter((([e])=>e===n)).map((([e,t])=>t))}has(e){return this._parsed.has(e)}set(...e){const[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map((([e,t])=>a(t))).join("; ")),this}delete(e){const t=this._parsed,r=Array.isArray(e)?e.map((e=>t.delete(e))):t.delete(e);return this._headers.set("cookie",Array.from(t).map((([e,t])=>a(t))).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map((e=>`${e.name}=${encodeURIComponent(e.value)}`)).join("; ")}},f=class{constructor(e){var t;this._parsed=new Map,this._headers=e;const r=null==(t=e.getSetCookie)?void 0:t.call(e);e.get("set-cookie");const n=Array.isArray(r)?r:p(r);for(const e of n){const t=u(e);t&&this._parsed.set(t.name,t)}}get(...e){const t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;const r=Array.from(this._parsed.values());if(!e.length)return r;const n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter((e=>e.name===n))}has(e){return this._parsed.has(e)}set(...e){const[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,o=this._parsed;return o.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),null!==e.path&&void 0!==e.path||(e.path="/"),e}({name:t,value:r,...n})),function(e,t){t.delete("set-cookie");for(const[,r]of e){const e=a(r);t.append("set-cookie",e)}}(o,this._headers),this}delete(...e){const[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a).join("; ")}}},"./dist/compiled/bytes/index.js":e=>{(()=>{"use strict";var t={56:e=>{e.exports=function(e,t){return"string"==typeof e?s(e):"number"==typeof e?i(e,t):null},e.exports.format=i,e.exports.parse=s;var t=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,n={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},o=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function i(e,o){if(!Number.isFinite(e))return null;var i=Math.abs(e),s=o&&o.thousandsSeparator||"",a=o&&o.unitSeparator||"",d=o&&void 0!==o.decimalPlaces?o.decimalPlaces:2,u=Boolean(o&&o.fixedDecimals),c=o&&o.unit||"";c&&n[c.toLowerCase()]||(c=i>=n.pb?"PB":i>=n.tb?"TB":i>=n.gb?"GB":i>=n.mb?"MB":i>=n.kb?"KB":"B");var p=(e/n[c.toLowerCase()]).toFixed(d);return u||(p=p.replace(r,"$1")),s&&(p=p.split(".").map((function(e,r){return 0===r?e.replace(t,s):e})).join(".")),p+a+c}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,r=o.exec(e),i="b";return r?(t=parseFloat(r[1]),i=r[4].toLowerCase()):(t=parseInt(e,10),i="b"),Math.floor(n[i]*t)}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}void 0!==n&&(n.ab=__dirname+"/");var o=n(56);e.exports=o})()},"./dist/compiled/content-type/index.js":e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{var e=t,r=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,n=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,o=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,s=/([\\"])/g,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function d(e){var t=String(e);if(o.test(t))return t;if(t.length>0&&!n.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(s,"\\$1")+'"'}function u(e){this.parameters=Object.create(null),this.type=e}e.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,r=e.type;if(!r||!a.test(r))throw new TypeError("invalid type");var n=r;if(t&&"object"==typeof t)for(var i,s=Object.keys(t).sort(),u=0;u<s.length;u++){if(i=s[u],!o.test(i))throw new TypeError("invalid parameter name");n+="; "+i+"="+d(t[i])}return n},e.parse=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;if("function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]),"string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var n=t.indexOf(";"),o=-1!==n?t.substr(0,n).trim():t.trim();if(!a.test(o))throw new TypeError("invalid media type");var s=new u(o.toLowerCase());if(-1!==n){var d,c,p;for(r.lastIndex=n;c=r.exec(t);){if(c.index!==n)throw new TypeError("invalid parameter format");n+=c[0].length,d=c[1].toLowerCase(),'"'===(p=c[2])[0]&&(p=p.substr(1,p.length-2).replace(i,"$1")),s.parameters[d]=p}if(n!==t.length)throw new TypeError("invalid parameter format")}return s}})(),e.exports=t})()},"./dist/compiled/cookie/index.js":e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{var e=t;e.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(o),d=i.decode||r,u=0;u<a.length;u++){var c=a[u],p=c.indexOf("=");if(!(p<0)){var l=c.substr(0,p).trim(),f=c.substr(++p,c.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),null==n[l]&&(n[l]=s(f,d))}}return n},e.serialize=function(e,t,r){var o=r||{},s=o.encode||n;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var d=e+"="+a;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(u)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");d+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");d+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");d+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(d+="; HttpOnly"),o.secure&&(d+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return d};var r=decodeURIComponent,n=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}})(),e.exports=t})()},"./dist/compiled/fresh/index.js":e=>{(()=>{"use strict";var t={695:e=>{var t=/(?:^|,)\s*?no-cache\s*?(?:,|$)/;function r(e){var t=e&&Date.parse(e);return"number"==typeof t?t:NaN}e.exports=function(e,n){var o=e["if-modified-since"],i=e["if-none-match"];if(!o&&!i)return!1;var s=e["cache-control"];if(s&&t.test(s))return!1;if(i&&"*"!==i){var a=n.etag;if(!a)return!1;for(var d=!0,u=function(e){for(var t=0,r=[],n=0,o=0,i=e.length;o<i;o++)switch(e.charCodeAt(o)){case 32:n===t&&(n=t=o+1);break;case 44:r.push(e.substring(n,t)),n=t=o+1;break;default:t=o+1}return r.push(e.substring(n,t)),r}(i),c=0;c<u.length;c++){var p=u[c];if(p===a||p==="W/"+a||"W/"+p===a){d=!1;break}}if(d)return!1}if(o){var l=n["last-modified"];if(!(l&&r(l)<=r(o)))return!1}return!0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}void 0!==n&&(n.ab=__dirname+"/");var o=n(695);e.exports=o})()},"./dist/esm/server/crypto-utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{decryptWithSecret:()=>l,encryptWithSecret:()=>p});const n=require("crypto");var o=r.n(n);const i="aes-256-gcm",s=32,a=16,d=16,u=64,c=1e5;function p(e,t){const r=o().randomBytes(a),n=o().randomBytes(u),d=o().pbkdf2Sync(e,n,c,s,"sha512"),p=o().createCipheriv(i,d,r),l=Buffer.concat([p.update(t,"utf8"),p.final()]),f=p.getAuthTag();return Buffer.concat([n,r,f,l]).toString("hex")}function l(e,t){const r=Buffer.from(t,"hex"),n=r.slice(0,u),p=r.slice(u,u+a),l=r.slice(u+a,u+a+d),f=r.slice(u+a+d),h=o().pbkdf2Sync(e,n,c,s,"sha512"),v=o().createDecipheriv(i,h,p);return v.setAuthTag(l),v.update(f)+v.final("utf8")}},"next/dist/compiled/jsonwebtoken":e=>{"use strict";e.exports=require("next/dist/compiled/jsonwebtoken")},"next/dist/compiled/raw-body":e=>{"use strict";e.exports=require("next/dist/compiled/raw-body")},querystring:e=>{"use strict";e.exports=require("querystring")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{PagesAPIRouteModule:()=>q,default:()=>$});class e{constructor({userland:e,definition:t}){this.userland=e,this.definition=t}}class t{static get(e,t,r){const n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}class o extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new o}}class i extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(r,n,o){if("symbol"==typeof n)return t.get(r,n,o);const i=n.toLowerCase(),s=Object.keys(e).find((e=>e.toLowerCase()===i));return void 0!==s?t.get(r,s,o):void 0},set(r,n,o,i){if("symbol"==typeof n)return t.set(r,n,o,i);const s=n.toLowerCase(),a=Object.keys(e).find((e=>e.toLowerCase()===s));return t.set(r,a??n,o,i)},has(r,n){if("symbol"==typeof n)return t.has(r,n);const o=n.toLowerCase(),i=Object.keys(e).find((e=>e.toLowerCase()===o));return void 0!==i&&t.has(r,i)},deleteProperty(r,n){if("symbol"==typeof n)return t.deleteProperty(r,n);const o=n.toLowerCase(),i=Object.keys(e).find((e=>e.toLowerCase()===o));return void 0===i||t.deleteProperty(r,i)}})}static seal(e){return new Proxy(e,{get(e,r,n){switch(r){case"append":case"delete":case"set":return o.callable;default:return t.get(e,r,n)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new i(e)}append(e,t){const r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){const t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(const[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(const e of Object.keys(this.headers)){const t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(const e of Object.keys(this.headers)){const t=e.toLowerCase();yield t}}*values(){for(const e of Object.keys(this.headers)){const t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}const s="x-prerender-revalidate",a="x-prerender-revalidate-if-generated",d="__prerender_bypass",u="__next_preview_data",c=Symbol(u),p=Symbol(d);function l(e,t={}){if(p in e)return e;const{serialize:n}=r("./dist/compiled/cookie/index.js"),o=e.getHeader("Set-Cookie");return e.setHeader("Set-Cookie",[..."string"==typeof o?[o]:Array.isArray(o)?o:[],n(d,"",{expires:new Date(0),httpOnly:!0,sameSite:"lax",secure:!1,path:"/",...void 0!==t.path?{path:t.path}:void 0}),n(u,"",{expires:new Date(0),httpOnly:!0,sameSite:"lax",secure:!1,path:"/",...void 0!==t.path?{path:t.path}:void 0})]),Object.defineProperty(e,p,{value:!0,enumerable:!1}),e}class f extends Error{constructor(e,t){super(t),this.statusCode=e}}function h(e,t,r){e.statusCode=t,e.statusMessage=r,e.end(r)}function v({req:e},t,r){const n={configurable:!0,enumerable:!0},o={...n,writable:!0};Object.defineProperty(e,t,{...n,get:()=>{const n=r();return Object.defineProperty(e,t,{...o,value:n}),n},set:r=>{Object.defineProperty(e,t,{...o,value:r})}})}var m=r("./dist/compiled/bytes/index.js"),y=r.n(m);"undefined"!=typeof performance&&["mark","measure","getEntriesByName"].every((e=>"function"==typeof performance[e]));var g=r("./dist/compiled/fresh/index.js"),w=r.n(g);const x=require("stream");var b=r("./dist/compiled/content-type/index.js");function S(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}const R=require("next/dist/server/lib/trace/tracer");var j,C,A,_,N,T,k,H,E,O,P;!function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(j||(j={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(C||(C={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(A||(A={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(_||(_={})),function(e){e.startServer="startServer.startServer"}(N||(N={})),function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(T||(T={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(k||(k={})),function(e){e.executeRoute="Router.executeRoute"}(H||(H={})),function(e){e.runHandler="Node.runHandler"}(E||(E={})),function(e){e.runHandler="AppRouteRouteHandlers.runHandler"}(O||(O={})),function(e){e.generateMetadata="ResolveMetadata.generateMetadata"}(P||(P={}));var M=r("./dist/compiled/@edge-runtime/cookies/index.js");function L(e){return"string"==typeof e&&e.length>=16}async function B(e,t,n,o,p,m,g,j){const C=e,A=t;try{var _,N,T,k;if(!o)return t.statusCode=404,void t.end("Not Found");const h=o.config||{},m=!1!==(null==(_=h.api)?void 0:_.bodyParser),g=(null==(N=h.api)?void 0:N.responseLimit)??!0,P=(null==(T=h.api)?void 0:T.externalResolver)||!1;v({req:C},"cookies",(O=e.headers,function(){const{cookie:e}=O;if(!e)return{};const{parse:t}=r("./dist/compiled/cookie/index.js");return t(Array.isArray(e)?e.join("; "):e)})),C.query=n,v({req:C},"previewData",(()=>function(e,t,n){var o,p;if(n&&function(e,t){const r=i.from(e.headers);return{isOnDemandRevalidate:r.get(s)===t.previewModeId,revalidateOnlyGenerated:r.has(a)}}(e,n).isOnDemandRevalidate)return!1;if(c in e)return e[c];const f=i.from(e.headers),h=new M.RequestCookies(f),v=null==(o=h.get(d))?void 0:o.value,m=null==(p=h.get(u))?void 0:p.value;if(v&&!m&&v===n.previewModeId){const t={};return Object.defineProperty(e,c,{value:t,enumerable:!1}),t}if(!v&&!m)return!1;if(!v||!m)return l(t),!1;if(v!==n.previewModeId)return l(t),!1;let y;try{y=r("next/dist/compiled/jsonwebtoken").verify(m,n.previewModeSigningKey)}catch{return l(t),!1}const{decryptWithSecret:g}=r("./dist/esm/server/crypto-utils.js"),w=g(Buffer.from(n.previewModeEncryptionKey),y.data);try{const t=JSON.parse(w);return Object.defineProperty(e,c,{value:t,enumerable:!1}),t}catch{return!1}}(e,t,p))),v({req:C},"preview",(()=>!1!==C.previewData||void 0)),v({req:C},"draftMode",(()=>C.preview)),m&&!C.body&&(C.body=await async function(e,t){let n;try{n=(0,b.parse)(e.headers["content-type"]||"text/plain")}catch{n=(0,b.parse)("text/plain")}const{type:o,parameters:i}=n,s=i.charset||"utf-8";let a;try{const n=r("next/dist/compiled/raw-body");a=await n(e,{encoding:s,limit:t})}catch(e){throw S(e)&&"entity.too.large"===e.type?new f(413,`Body exceeded ${t} limit`):new f(400,"Invalid body")}const d=a.toString();return"application/json"===o||"application/ld+json"===o?function(e){if(0===e.length)return{};try{return JSON.parse(e)}catch(e){throw new f(400,"Invalid JSON")}}(d):"application/x-www-form-urlencoded"===o?r("querystring").decode(d):d}(C,h.api&&h.api.bodyParser&&h.api.bodyParser.sizeLimit?h.api.bodyParser.sizeLimit:"1mb"));let B=0;const q=function(e){return e&&"boolean"!=typeof e?y().parse(e):4194304}(g),$=A.write,I=A.end;A.write=(...e)=>(B+=Buffer.byteLength(e[0]||""),$.apply(A,e)),A.end=(...t)=>(t.length&&"function"!=typeof t[0]&&(B+=Buffer.byteLength(t[0]||"")),g&&B>=q&&console.warn(`API response for ${e.url} exceeds ${y().format(q)}. API Routes are meant to respond quickly. https://nextjs.org/docs/messages/api-routes-response-size-limit`),I.apply(A,t)),A.status=e=>function(e,t){return e.statusCode=t,e}(A,e),A.send=e=>function(e,t,r){if(null==r)return void t.end();if(204===t.statusCode||304===t.statusCode)return t.removeHeader("Content-Type"),t.removeHeader("Content-Length"),t.removeHeader("Transfer-Encoding"),r&&console.warn(`A body was attempted to be set with a 204 statusCode for ${e.url}, this is invalid and the body was ignored.\nSee more info here https://nextjs.org/docs/messages/invalid-api-status-body`),void t.end();const n=t.getHeader("Content-Type");if(r instanceof x.Stream)return n||t.setHeader("Content-Type","application/octet-stream"),void r.pipe(t);const o=["object","number","boolean"].includes(typeof r),i=o?JSON.stringify(r):r;if(!function(e,t,r){return r&&t.setHeader("ETag",r),!!w()(e.headers,{etag:r})&&(t.statusCode=304,t.end(),!0)}(e,t,((e,t=!1)=>(t?'W/"':'"')+(e=>{const t=e.length;let r=0,n=0,o=8997,i=0,s=33826,a=0,d=40164,u=0,c=52210;for(;r<t;)o^=e.charCodeAt(r++),n=435*o,i=435*s,a=435*d,u=435*c,a+=o<<8,u+=s<<8,i+=n>>>16,o=65535&n,a+=i>>>16,s=65535&i,c=u+(a>>>16)&65535,d=65535&a;return 281474976710656*(15&c)+4294967296*d+65536*s+(o^c>>4)})(e).toString(36)+e.length.toString(36)+'"')(i))){if(Buffer.isBuffer(r))return n||t.setHeader("Content-Type","application/octet-stream"),t.setHeader("Content-Length",r.length),void t.end(r);o&&t.setHeader("Content-Type","application/json; charset=utf-8"),t.setHeader("Content-Length",Buffer.byteLength(i)),t.end(i)}}(C,A,e),A.json=e=>function(e,t){e.setHeader("Content-Type","application/json; charset=utf-8"),e.send(JSON.stringify(t))}(A,e),A.redirect=(e,t)=>function(e,t,r){if("string"==typeof t&&(r=t,t=307),"number"!=typeof t||"string"!=typeof r)throw new Error("Invalid redirect arguments. Please use a single argument URL, e.g. res.redirect('/destination') or use a status code and URL, e.g. res.redirect(307, '/destination').");return e.writeHead(t,{Location:r}),e.write(r),e.end(),e}(A,e,t),A.setDraftMode=(e={enable:!0})=>function(e,t){if(!L(t.previewModeId))throw new Error("invariant: invalid previewModeId");const n=t.enable?void 0:new Date(0),{serialize:o}=r("./dist/compiled/cookie/index.js"),i=e.getHeader("Set-Cookie");return e.setHeader("Set-Cookie",[..."string"==typeof i?[i]:Array.isArray(i)?i:[],o(d,t.previewModeId,{httpOnly:!0,sameSite:"lax",secure:!1,path:"/",expires:n})]),e}(A,Object.assign({},p,e)),A.setPreviewData=(e,t={})=>function(e,t,n){if(!L(n.previewModeId))throw new Error("invariant: invalid previewModeId");if(!L(n.previewModeEncryptionKey))throw new Error("invariant: invalid previewModeEncryptionKey");if(!L(n.previewModeSigningKey))throw new Error("invariant: invalid previewModeSigningKey");const o=r("next/dist/compiled/jsonwebtoken"),{encryptWithSecret:i}=r("./dist/esm/server/crypto-utils.js"),s=o.sign({data:i(Buffer.from(n.previewModeEncryptionKey),JSON.stringify(t))},n.previewModeSigningKey,{algorithm:"HS256",...void 0!==n.maxAge?{expiresIn:n.maxAge}:void 0});if(s.length>2048)throw new Error("Preview data is limited to 2KB currently, reduce how much data you are storing as preview data to continue");const{serialize:a}=r("./dist/compiled/cookie/index.js"),c=e.getHeader("Set-Cookie");return e.setHeader("Set-Cookie",[..."string"==typeof c?[c]:Array.isArray(c)?c:[],a(d,n.previewModeId,{httpOnly:!0,sameSite:"lax",secure:!1,path:"/",...void 0!==n.maxAge?{maxAge:n.maxAge}:void 0,...void 0!==n.path?{path:n.path}:void 0}),a(u,s,{httpOnly:!0,sameSite:"lax",secure:!1,path:"/",...void 0!==n.maxAge?{maxAge:n.maxAge}:void 0,...void 0!==n.path?{path:n.path}:void 0})]),e}(A,e,Object.assign({},p,t)),A.clearPreviewData=(e={})=>l(A,e),A.revalidate=(t,r)=>async function(e,t,r,n){if("string"!=typeof e||!e.startsWith("/"))throw new Error(`Invalid urlPath provided to revalidate(), must be a path e.g. /blog/post-1, received ${e}`);const o={[s]:n.previewModeId,...t.unstable_onlyGenerated?{[a]:"1"}:{}},i=[...n.allowedRevalidateHeaderKeys||[],...n.trustHostHeader?["cookie","x-vercel-protection-bypass"]:[]];for(const e of Object.keys(r.headers))i.includes(e)&&(o[e]=r.headers[e]);try{if(n.trustHostHeader){const n=await fetch(`https://${r.headers.host}${e}`,{method:"HEAD",headers:o}),i=n.headers.get("x-vercel-cache")||n.headers.get("x-nextjs-cache");if("REVALIDATED"!==(null==i?void 0:i.toUpperCase())&&(404!==n.status||!t.unstable_onlyGenerated))throw new Error(`Invalid response ${n.status}`)}else{if(!n.revalidate)throw new Error("Invariant: required internal revalidate method not passed to api-utils");await n.revalidate({urlPath:e,revalidateHeaders:o,opts:t})}}catch(t){throw new Error(`Failed to revalidate ${e}: ${S(t)?t.message:t}`)}}(t,r||{},e,p);const D=(H=o).default||H;let z=!1;t.once("pipe",(()=>z=!0)),null==(k=(0,R.getTracer)().getRootSpanAttributes())||k.set("next.route",j);const K=await(0,R.getTracer)().trace(E.runHandler,{spanName:`executing api route (pages) ${j}`},(()=>D(e,t)));if(void 0!==K){if(K instanceof Response)throw new Error('API route returned a Response object in the Node.js runtime, this is not supported. Please use `runtime: "edge"` instead: https://nextjs.org/docs/api-routes/edge-api-routes');console.warn(`API handler should not return a value, received ${typeof K}.`)}P||function(e){return e.finished||e.headersSent}(t)||z||console.warn(`API resolved without sending a response for ${e.url}, this may result in stalled requests.`)}catch(e){if(e instanceof f)h(A,e.statusCode,e.message);else{if(g)throw S(e)&&(e.page=j),e;if(console.error(e),m)throw e;h(A,500,"Internal Server Error")}}var H,O}class q extends e{constructor(e){if(super(e),"function"!=typeof e.userland.default)throw new Error(`Page ${e.definition.page} does not export a default function.`)}async render(e,t,r){await B(e,t,r.query,this.userland,{...r.previewProps,revalidate:r.revalidate,trustHostHeader:r.trustHostHeader,allowedRevalidateHeaderKeys:r.allowedRevalidateHeaderKeys,hostname:r.hostname},r.minimalMode,r.dev,r.page)}}const $=q})(),module.exports=n})();