{"version":3,"sources":["../../../src/server/api-utils/node.ts"],"names":["tryGetPreviewData","parseBody","apiResolver","req","res","options","cookies","checkIsOnDemandRevalidate","isOnDemandRevalidate","SYMBOL_PREVIEW_DATA","headers","HeadersAdapter","from","RequestCookies","previewModeId","get","COOKIE_NAME_PRERENDER_BYPASS","value","tokenPreviewData","COOKIE_NAME_PRERENDER_DATA","data","Object","defineProperty","enumerable","clearPreviewData","encryptedPreviewData","jsonwebtoken","require","verify","previewModeSigningKey","decryptWithSecret","decryptedPreviewData","Buffer","previewModeEncryptionKey","JSON","parse","parseJson","str","length","e","ApiError","limit","contentType","type","parameters","encoding","charset","buffer","getRawBody","isError","body","toString","qs","decode","getMaxContentLength","responseLimit","bytes","RESPONSE_LIMIT_DEFAULT","sendData","undefined","end","statusCode","removeHeader","process","env","NODE_ENV","console","warn","url","getHeader","Stream","setHeader","pipe","isJSONLike","includes","stringifiedBody","stringify","etag","generateETag","sendEtagResponse","isBuffer","byteLength","sendJson","jsonBody","send","isValidData","setDraftMode","Error","expires","enable","Date","serialize","previous","Array","isArray","httpOnly","sameSite","secure","path","setPreviewData","encryptWithSecret","payload","sign","algorithm","maxAge","expiresIn","revalidate","urlPath","opts","context","startsWith","revalidateHeaders","PRERENDER_REVALIDATE_HEADER","unstable_onlyGenerated","PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER","allowedRevalidateHeaderKeys","trustHostHeader","key","keys","fetch","host","method","cacheHeader","toUpperCase","status","err","message","query","resolverModule","apiContext","propagateError","dev","page","apiReq","apiRes","config","getTracer","bodyParser","api","externalResolver","setLazyProp","getCookieParser","previewData","preview","sizeLimit","contentLength","maxContentLength","writeData","write","endResponse","args","apply","format","sendStatusCode","json","redirect","statusOrUrl","assign","resolver","interopDefault","wasPiped","once","getRootSpanAttributes","set","apiRouteResult","trace","NodeSpan","runHandler","spanName","Response","isResSent","sendError","error"],"mappings":"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"}